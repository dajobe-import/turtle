<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <title>Turtle - Terse RDF Triple Language</title>
  <link rel="stylesheet" type="text/css" href="stylesheet.css" />
</head>
<body>

<h1>Turtle - Terse RDF Triple Language</h1>

<p><a href="http://purl.org/net/dajobe/">Dave Beckett</a><br /><a href="http://www.ilrt.bristol.ac.uk/">Institute for Learning and Research Technology</a><br /><a href="http://www.bristol.ac.uk/">University of Bristol</a></p>

<h2><a name="sec-intro">1. Introduction</a></h2>


<p>Turtle, a Terse RDF Triple Language, is an extension of 
<a href="http://www.w3.org/TR/rdf-testcases/#ntriples">N-Triples</a>
(<a href="#ref-ntriples">[N-TRIPLES]</a>)
carefully taking the most useful and appropriate things added from
<a href="http://www.w3.org/DesignIssues/Notation3">Notation 3</a>
(<a href="#ref-n3">[NOTATION3]</a>)
while keeping it in the RDF model.</p>

<p>This work is described in the paper
<a href="http://www.ilrt.bristol.ac.uk/discovery/2003/11/new-syntaxes-rdf/">New Syntaxes for RDF</a>
which discusses other RDF syntaxes and the background
to Turtle (Submitted to WWW2004, referred to as N-Triples Plus there).
</p>

<p>It is implemented in the
<a href="http://www.redland.opensource.ac.uk/raptor/">Raptor RDF Parser</a>
V1.1.0 (named as N-Triples Plus, does not yet do collections)
and as a mostly subset of N3, in all systems that support Notation 3.</p>

<p><b>Status</b>: Turtle is a work in progress, and I am
looking for feedback.<br />
<a href="http://purl.org/net/dajobe/">Dave</a>
</p>

<p>This work was done under the
<a href="http://www.w3.org/2001/sw/Europe/">Semantic Web Advanced Development Europe (SWAD-Europe)</a>
project funded by the EU IST-7 programme IST-2001-34732.
</p>



<h2><a name="sec-grammar">2. Turtle Grammar</a></h2>


<p>This EBNF is <a
href="http://www.w3.org/TR/REC-xml#sec-notation">the notation used
in XML 1.0 second edition</a>
over an alphabet of <cite><a href="#Unicode">[UNICODE]</a></cite>
characters.
</p>

<table class="grammar" summary="Turtle - Terse RDF Triple Language EBNF">
   <caption>Turtle - Terse RDF Triple Language EBNF</caption>
   <tbody>
<tr align="left">
          <td class="topcell"><a name="ntriplesPlusDoc">ntriplesPlusDoc</a></td> <td class="topcell">::=</td> <td class="topcell"><a href="#statement">statement</a>*</td>
</tr>

<tr align="left">
          <td class="cell"><a name="statement">statement</a></td> <td class="cell">::=</td> <td class="cell"><a href="#directive">directive</a> <a href="#ws">ws</a>* '.' <a href="#ws">ws</a>* | <a href="#triple">triples</a> <a href="#ws">ws</a>* '.' <a href="#ws">ws</a>* | <a href="#comment">comment</a> |  <a href="#ws">ws</a>+</td>
</tr>

<tr align="left">
          <td class="cell"><a name="directive">directive</a></td> <td class="cell">::=</td> <td class="cell">'@prefix' <a href="#ws">ws</a>+ <a href="#prefixID">prefixID</a> <a href="#ws">ws</a>+ <a href="#uriref">uriref</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="triples" id="triples">triples</a></td> <td class="cell">::=</td> <td class="cell"><a href="#subject">subject</a> <a href="#ws">ws</a>+ <a href="#predicateObjectList">predicateObjectList</a><br />
Provides RDF triples using the given <a href="#subject">subject</a>
and each pair from the <a href="#predicateObjectList">predicateObjectList</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="predicateObjectList">predicateObjectList</a></td> <td class="cell">::=</td> <td class="cell"><a href="#verb">verb</a> <a href="#ws">ws</a>+ <a href="#objectList">objectList</a> ( <a href="#ws">ws</a>+ ';'  <a href="#ws">ws</a>* <a href="#verb">verb</a> <a href="#ws">ws</a>+ <a href="#objectList">objectList</a>)*<br />
Provides a sequence of (<a href="#verb">verb</a>, <a href="#object">object</a>) pairs for each object from the <a href="#objectList">objectList</a> </td>
</tr>

<tr align="left">
          <td class="cell"><a name="objectList">objectList</a></td> <td class="cell">::=</td> <td class="cell"><a href="#object">object</a> (<a href="#ws">ws</a>+ ',' <a href="#ws">ws</a>* <a href="#object">object</a>)*<br />
Provides a sequence of <a href="#object">object</a>s</td>
</tr>

<tr align="left">
          <td class="cell"><a name="verb">verb</a></td> <td class="cell">::=</td> <td class="cell"><a href="#predicate">predicate</a> | 'a'<br />
where 'a' is equivalent to <a href="#qname">qname</a> <code>rdf:type</code></td>
</tr>

<tr align="left">
          <td class="cell"><a name="comment">comment</a></td> <td class="cell">::=</td> <td class="cell">'#' ( <a href="#character">character</a> - ( #xD | #xA ) )*</td>
</tr>

<tr align="left">
          <td class="cell"><a name="subject">subject</a></td> <td class="cell">::=</td> <td class="cell"><a href="#resource">resource</a> | <a href="#blank">blank</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="predicate">predicate</a></td> <td class="cell">::=</td> <td class="cell"><a href="#uriref">resource</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="object">object</a></td> <td class="cell">::=</td> <td class="cell"><a href="#resource">resource</a> | <a href="#blank">blank</a> | <a href="#literal">literal</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="literal">literal</a></td> <td class="cell">::=</td> <td class="cell"><a href="#langString">langString</a> | <a href="#datatypeString">datatypeString</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="langString">langString</a></td> <td class="cell">::=</td> <td class="cell">'"' <a href="#string">string</a> '"' ( '@' <a href="#language">language</a> )?</td>
</tr>

<tr align="left">
          <td class="cell"><a name="datatypeString">datatypeString</a></td> <td class="cell">::=</td> <td class="cell">'"' <a href="#string">string</a> '"^^' (<a href="#uriref">uriref</a> | <a href="#qname">qname</a>)</td>
</tr>

<tr align="left">
          <td class="cell"><a name="blank">blank</a></td> <td class="cell">::=</td> <td class="cell"><a href="#nodeID">nodeID</a> | '[]' | '[' <a href="#ws">ws</a>* <a href="#predicateObjectList">predicateObjectList</a> <a href="#ws">ws</a>* ']' | <a href="#list">collection</a><br />
Provides a blank node either from the given <a href="#nodeID">nodeID</a>,
a generated one,
a generated one which is also used to provide the subject of RDF triples for
each pair from the <a href="#predicateObjectList">predicateObjectList</a>
or the root of the <a href="#collection">collection</a>.
</td>
</tr>

<tr align="left">
          <td class="cell"><a name="collection">collection</a></td> <td class="cell">::=</td> <td class="cell">'(' <a href="#objectList">objectList</a>? ')'<br />
Provides a blank node at the start of an RDF collection of the
<a href="#object">object</a>s in the <a href="#objectList">objectList</a>.
See section <a href="#sec-collections">Collections</a> for
the triples generated.</td>
</tr>

<tr align="left">
          <td class="cell"><a name="resource">resource</a></td> <td class="cell">::=</td> <td class="cell"><a href="#uriref">uriref</a> | <a href="#qname">qname</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="nodeID">nodeID</a></td> <td class="cell">::=</td> <td class="cell">'_:' <a href="#name">name</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="qname">qname</a></td> <td class="cell">::=</td> <td class="cell"><a href="#name">name</a>? ':' <a href="#name">name</a>?</td>
</tr>

<tr align="left">
          <td class="cell"><a name="prefixID">prefixID</a></td> <td class="cell">::=</td> <td class="cell">':' | <a href="#name">name</a> ':'</td>
</tr>

<tr align="left">
          <td class="cell"><a name="uriref">uriref</a></td> <td class="cell">::=</td> <td class="cell">'&lt;' <a href="#relativeURI">relativeURI</a> '&gt;'
</td>
</tr>

<tr align="left">
          <td class="cell"><a name="language">language</a></td> <td class="cell">::=</td> <td class="cell">[a-z]+ ('-' [a-z0-9]+ )* encoding a language tag.</td>
</tr>

<tr align="left">
          <td class="cell"><a name="name">name</a></td> <td class="cell">::=</td> <td class="cell">[A-Za-z][A-Za-z0-9_]*<br />
See section <a href="#sec-qnames">QNames</a></td>
</tr>

<tr align="left">
          <td class="cell"><a name="relativeURI">relativeURI</a></td> <td class="cell">::=</td> <td class="cell">
<a href="#character">character</a>* with escapes as defined in the
<a href="http://www.w3.org/TR/rdf-testcases/#ntriples">N-Triples</a> section
  <a href="http://www.w3.org/TR/rdf-testcases/#sec-uri-encoding">3.3 URI References</a>.
This is then used as a relative URI and resolved against the current
base URI to give an absolute URI reference.
</td>
</tr>

<tr align="left">
          <td class="cell"><a name="string">string</a></td> <td class="cell">::=</td> <td class="cell"><a href="#character">character</a>* with escapes as defined in 
<a href="http://www.w3.org/TR/rdf-testcases/#ntriples">N-Triples</a>
  section <a href="http://www.w3.org/TR/rdf-testcases/#ntrip_strings">3.2 Strings</a>
</td>
</tr>

<tr align="left">
          <td class="cell"><a name="ws">ws</a></td> <td class="cell">::=</td> <td class="cell">#x9 | #xA | #xD | #x20</td>
</tr>

<tr align="left">
          <td class="cell"><a name="character">character</a></td> <td class="cell">::=</td> <td class="cell">Unicode character range in the range U+0 to U+10FFFF</td>
</tr>

      </tbody>
    </table>


<h2><a name="sec-strings">3. Unicode strings</a></h2>

<p>N-Triples only allows writing Unicode characters using
<code>\u</code><em>HHHH</em> and <code>\U</code><em>HHHHHHHH</em>
(see <a href="http://www.w3.org/TR/rdf-testcases/#ntriples">N-Triples</a> section <a href="http://www.w3.org/TR/rdf-testcases/#ntrip_strings">3.2 Strings</a>)
With Turtle, UTF-8 allows them to be written in another form.
Both are allowed and do not conflict since UTF-8 uses characters
outside the base N-Triples US-ASCII range (128+)</p>


<h2><a name="sec-collections">4. Collections</a></h2>

<p>The triples that are generated is given by these expansions
to the longer form:</p>

<p>( <em>object1</em> , <em>object2</em> ) is short for:<br />
[ <code>rdf:first</code> <em>object1</em>;
<code>rdf:rest</code> [ <code>rdf:first</code> <em>object2</em>;
<code>rdf:rest</code> <code>rdf:nil</code> ] ]</p>

<p><code>( )</code> is short for the resource:<br />
<code>rdf:nil</code><br />
</p>


<h2><a name="sec-examples">4. Examples</a></h2>

<p>This example is a Turtle translation of 
<a href="http://www.w3.org/TR/rdf-syntax-grammar/#example7">example 7</a>
in the
<a href="http://www.w3.org/TR/rdf-syntax-grammar/">RDF/XML Syntax specification</a>
(<a href="example1.ttl">example1.ttl</a>):
</p>

<pre>
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix ex: &lt;http://example.org/stuff/1.0/&gt; .

&lt;http://www.w3.org/TR/rdf-syntax-grammar&gt;
  dc:title "RDF/XML Syntax Specification (Revised)" ;
  ex:editor [
    ex:fullname "Dave Beckett";
    ex:homePage &lt;http://purl.org/net/dajobe/&gt;
  ] .
</pre>


<p>An example of an RDF collection of two literals.</p>
<pre>
@prefix : &lt;http://example.org/stuff/1.0/&gt; .
:a :b ( "apple", "banana" ) .
</pre>
<p>which is short for (<a href="example2.ttl">example2.ttl</a>):</p>
<pre>
@prefix : &lt;http://example.org/stuff/1.0/&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
:a :b
  [ rdf:first "apple";
    rdf:rest [ rdf:first "banana";
               rdf:rest rdf:nil ]
  ] .
</pre>


<h2><a name="sec-mime">5. MIME Type and Content Encoding</a></h2>

<p>The mime type of Turtle is application/x-turtle (if registered,
application/turtle will be sought) and the content encoding of Turtle
is always UTF-8 even if there is a conflict between the content
encoding delivered by a protocol element such as in HTTP's
<tt>Content-Type:</tt> (Compare to N-Triples which is text/plain and
always ASCII).</p>

<p>The file suffix is <code>.ttl</code></p>


<h2><a name="sec-qnames">6. XML QNames</a></h2>

<p>The <a href="#qname">qname</a> definition here isn't exactly the
same as either XML or N3, since the overlap is not very clear -
the definition of N3 and the implementions differ in what is accepted.
Turtle presently just adds <code>_</code> over the N-Triples name
definition.</p>

<p>This is a minimal version and probably should import NCNAME from
<a href="http://www.w3.org/TR/REC-xml-names/">Namespaces in XML</a>
which uses the Unicode character classes.
<a href="http://www.w3.org/TR/REC-xml-names/#NT-NCName">NCName</a>
with possibly some exclusions such as '<code>-</code>' and
'<code>.</code>' that N3 uses for other forms.  However that would
add a dependency on XML that is not currently present.</p>

<p>A compatible definition could be used such as importing from the
XML 1.1 drafts and removing the '<code>:</code>' from NameStartChar
and the '<code>-</code>' and '<code>.</code>' from NameChar</p>

<p>i.e name :: = (<a href="http://www.w3.org/TR/2003/PR-xml11-20031105/#NT-NameStartChar">NameStartChar</a> - ':') (<a href="http://www.w3.org/TR/2003/PR-xml11-20031105/#NT-NameChar">NameChar</a> - '-' - '.')*</p>

<p>(Using the terms from the
<a href="http://www.w3.org/TR/2003/PR-xml11-20031105/">XML 1.1 Proposed Recommendation</a>)</p>


<p>In long form, directly using the Unicode 3.0 character ranges</p>

<p>name ::= NameStartChar NameChar* </p>

<p>NameStartChar ::= [A-Z] | "_" | [a-z] | [#xC0-#xD6] |<br />
  [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] |<br />
  [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] |<br />
  [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] |<br />
  [#x10000-#xEFFFF]</p>

<p>NameChar ::= NameStartChar | [0-9] | #xB7 | [#x0300-#x036F] |<br />
 [#x203F-#x2040]</p>


<h2><a name="sec-future">7. Possible Extensions</a></h2>

<p>The next likely syntax form from N3 that could be added is the
<code>""" ... """</code> multi-line literals after Python.  It makes
it easier to include long textual literals without using
<code>\\</code> escaping.</p>

<p>An <code>@charset</code> directive could be added that can only
appear as the first line of the document like has been defined for
<a href="http://www.w3.org/TR/CSS21/">CSS 2.1</a> in
<a href="http://www.w3.org/TR/CSS21/syndata.html#q23">4.4 CSS document representation</a>
and 
<a href="http://www.w3.org/TR/CSS2/">CSS 2</a> in
<a href="http://www.w3.org/TR/CSS2/syndata.html#q23">4.4 CSS document representation</a>
.
This would have a cost of more implementation complexity
in handling an unbounded set of Unicode encodings rather than one, UTF-8.
</p>


<p>Another possible extension would be to add an <code>@base</code>
uri to set the base URI in the same fashion as <code>xml:base</code>,
and <code>@language</code> to set the default literal language for
the following terms in the document.</p>



<h2><a name="sec-diff-ntriples">8. Turtle differences from N-Triples</a></h2>

<p>The items added beyond N-Triples are currently:</p>

<ol>
<li>Whitespace restrictions removed</li>
<li>Text content-encoding changed from ASCII to UTF-8</li>
<li><code>@prefix</code></li>
<li>QNames</li>
<li><code>,</code></li>
<li><code>;</code></li>
<li><code>[]</code></li>
<li><code>a</code></li>
<li><code>()</code></li>
</ol>




<h2><a name="sec-refs">9. References</a></h2>

<dl>
<dt><a name="ref-ntriples">[N-TRIPLES]</a><br /></dt>
<dd><cite><a href="http://www.w3.org/TR/2003/PR-rdf-testcases-20031215/">N-Triples</a></cite> section in <a href="http://www.w3.org/TR/rdf-testcases/">RDF Test Cases</a>, J. Grant and D. Beckett, Editors, World Wide Web Consortium Proposed Recommendation, work in progress, 15 December 2003.  This version of the RDF Test Cases is http://www.w3.org/TR/2003/PR-rdf-testcases-20031215/.  The <a href="http://www.w3.org/TR/rdf-testcases/">latest version of the RDF Test Cases</a> is at http://www.w3.org/TR/rdf-testcases/.
</dd>

<dt><a name="ref-n3">[NOTATION3]</a></dt>

<dd><cite><a href="http://www.w3.org/DesignIssues/Notation3">Notation 3</a></cite>, Tim Berners-Lee, World Wide Web Consortium</dd>


<dt><a name="Unicode">[UNICODE]</a></dt>
<dd><cite><a href="http://www.unicode.org/unicode/standard/standard.html">The Unicode Standard Version 3.0</a></cite>, Addison Wesley, Reading MA, 2000, ISBN: 0-201-61633-5. This document is http://www.unicode.org/unicode/standard/standard.html.</dd>

</dl>



<h2><a name="sec-changelog">10. Changes</a></h2>

<p>Since the
<a href="http://www.ilrt.bristol.ac.uk/discovery/2003/11/ntriplesplus/">N-Triples Plus</a>
document November/December 2003,
<a href="#sec-collections">collections</a>
have been added and the mime type changed to application/x-turtle.</p>

<hr />

<p>Copyright 2003-2004 <a href="http://purl.org/net/dajobe/">Dave Beckett</a>, <a href="http://www.ilrt.bristol.ac.uk/">Institute for Learning and Research Technology</a>, <a href="http://www.bristol.ac.uk/">University of Bristol</a></p>

<p><small>Last Revised: $Date$</small></p>

</body>
</html>
